{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Pro/Desktop/cours HTML CSS/sitr b2B/front-end/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Pro/Desktop/cours HTML CSS/sitr b2B/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Pro/Desktop/cours HTML CSS/sitr b2B/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import listeSons from'./listeSons.json';import'./Afficher_sons.css';import logopanier from'./icones/panier.png';import logoplay from'./icones/play.png';import Zoom from'react-reveal';import{Slide}from'react-reveal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Afficher_sons(_ref){var panier=_ref.panier,updatePanier=_ref.updatePanier,updatePlayer=_ref.updatePlayer,isPlaying=_ref.isPlaying,setIsPlaying=_ref.setIsPlaying;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),genreTri=_useState2[0],setGenreTri=_useState2[1];var trierParGenre=function trierParGenre(sons,genre){return sons.filter(function(son){return son.genre.includes(genre);});};var listeSonsTries=genreTri?trierParGenre(listeSons,genreTri):listeSons;function ajouterPanier(titre,prix,type,nbr){var nouveauPanier=\"\";var existeDeja=panier.find(function(article){return article.titre===titre;});if(existeDeja){if(type==\"digital\"&&nbr>0){alert(\"vous ne pouvez pas ajouter plusieurs sons digitaux\");}else{nouveauPanier=panier.map(function(article){if(article.titre===titre){return _objectSpread(_objectSpread({},article),{},{nbr:1,prix:article.prix});}return article;});updatePanier(nouveauPanier);}}else{var _nouveauPanier=[].concat(_toConsumableArray(panier),[{titre:titre,prix:prix,type:type,nbr:1}]);updatePanier(_nouveauPanier);}}function playSound(url){window.open(url);}return/*#__PURE__*/_jsxs(\"div\",{className:\"container_global\",children:[/*#__PURE__*/_jsx(Zoom,{left:true,children:/*#__PURE__*/_jsx(\"h2\",{className:\"sons_wav ami_dj\",children:/*#__PURE__*/_jsx(Slide,{top:true,cascade:true,children:\"DJ? retrouve nos sons en wav! \"})})}),/*#__PURE__*/_jsx(Zoom,{right:true,cascade:true,children:/*#__PURE__*/_jsx(\"span\",{className:\"container_dj\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"span_pass\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"wav_desc wav_desc--2 eligible\",children:\"Eligible au pass culture?\"}),\" \",/*#__PURE__*/_jsx(\"h3\",{className:\"wav_desc wav_desc--2 profitez\",children:\"Profitez-en, \\xE7a fait marcher l'asso!\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://passculture.app/recherche?date=null&hitsPerPage=20&locationFilter=%7B%22locationType%22%3A%22EVERYWHERE%22%7D&offerCategories=%5B%5D&offerSubcategories=%5B%5D&offerIsDuo=false&offerIsFree=false&offerIsNew=false&offerTypes=%7B%22isDigital%22%3Afalse%2C%22isEvent%22%3Afalse%2C%22isThing%22%3Afalse%7D&priceRange=%5B0%2C300%5D&query=%22bicraveurs2bass%22&tags=%5B%5D&timeRange=null&view=%22Results%22&searchId=%225f203173-3fce-4a81-9905-e4d93f0b351f%22\",alt:\"bouton pour acc\\xE9der \\xE0 notre page sur Pass culture\",className:\"logo_pass\"})]})})}),/*#__PURE__*/_jsx(Slide,{left:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container_tri\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Trier par genre:\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(event){return setGenreTri(event.target.value);},className:\"option_tri\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Gabber\",children:\"Gabber\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hardcore\",children:\"Hardcore\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Tribe\",children:\"Tribe\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"articlesContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"itemContainer\",children:listeSonsTries.map(function(son,index){return/*#__PURE__*/_jsx(Zoom,{bottom:true,index:index,children:/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"itemImg\",src:son.img,alt:\"pochette de la musique \"+son.titre}),/*#__PURE__*/_jsx(\"h4\",{className:\"titre_son\",children:son.titre}),son.genre&&/*#__PURE__*/_jsx(\"h5\",{className:\"genre\",children:son.genre.join(' / ')}),/*#__PURE__*/_jsxs(\"span\",{className:\"containerPrix\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return playSound(son.url);},className:\"icoItem  icoItem--play\",alt:\"bouton pour \\xE9couter le son\",src:logoplay}),/*#__PURE__*/_jsxs(\"span\",{className:\"item_panier_prix\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"son--prix\",children:[son.prix,\"\\u20AC \"]}),/*#__PURE__*/_jsx(\"img\",{className:\"icoItem boutonItem--panier\",alt:\"bouton pour ajouter le son au panier\",onClick:function onClick(){return ajouterPanier(son.titre,son.prix,son.type,son.nbr);},src:logopanier})]})]})]})});})})})]});}export default Afficher_sons;","map":{"version":3,"names":["React","useState","listeSons","logopanier","logoplay","Zoom","Slide","jsx","_jsx","jsxs","_jsxs","Afficher_sons","_ref","panier","updatePanier","updatePlayer","isPlaying","setIsPlaying","_useState","_useState2","_slicedToArray","genreTri","setGenreTri","trierParGenre","sons","genre","filter","son","includes","listeSonsTries","ajouterPanier","titre","prix","type","nbr","nouveauPanier","existeDeja","find","article","alert","map","_objectSpread","concat","_toConsumableArray","playSound","url","window","open","className","children","left","top","cascade","right","href","alt","onChange","event","target","value","index","bottom","class","src","img","join","onClick"],"sources":["C:/Users/Pro/Desktop/cours HTML CSS/sitr b2B/front-end/src/boutique/Sons/Afficher_sons.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport listeSons from './listeSons.json';\r\nimport './Afficher_sons.css';\r\nimport logopanier from './icones/panier.png';\r\nimport logoplay from './icones/play.png';\r\nimport Zoom from 'react-reveal';\r\nimport { Slide } from 'react-reveal';\r\n\r\n\r\n\r\nfunction Afficher_sons({panier, updatePanier, updatePlayer, isPlaying, setIsPlaying}) {\r\n\r\n  const [genreTri, setGenreTri] = useState('');\r\n  const trierParGenre = (sons, genre) => {\r\n    return sons.filter((son) => son.genre.includes(genre));\r\n  };\r\n\r\n  const listeSonsTries = genreTri ? trierParGenre(listeSons, genreTri) : listeSons;\r\n\r\n\r\nfunction ajouterPanier(titre, prix, type, nbr) {\r\n    let nouveauPanier =\"\";\r\n    const existeDeja = panier.find((article) => article.titre === titre);\r\n    if (existeDeja)  {\r\n      if (type == \"digital\" && nbr > 0) {\r\n        alert(\"vous ne pouvez pas ajouter plusieurs sons digitaux\");\r\n      }\r\n      else {\r\n        nouveauPanier = panier.map((article) => {\r\n          if (article.titre === titre) {\r\n            return {\r\n              ...article,\r\n              nbr: 1 ,\r\n              prix: article.prix\r\n            };\r\n          }\r\n          return article;\r\n        });\r\n        updatePanier(nouveauPanier);\r\n      }\r\n    } else {  \r\n      const nouveauPanier = [...panier, { titre, prix , type, nbr:1}];\r\n      updatePanier(nouveauPanier);\r\n    }\r\n  }\r\n\r\n  function playSound(url) {\r\n    window.open(url);\r\n  } \r\n\r\n\r\n\r\n\r\n  return (\r\n    \r\n    <div className=\"container_global\">\r\n\r\n        <Zoom left><h2 className=\"sons_wav ami_dj\"><Slide top cascade>DJ? retrouve nos sons en wav! </Slide></h2></Zoom>\r\n        <Zoom right cascade>\r\n        <span className='container_dj'>\r\n       \r\n        <span className='span_pass'><h3 className='wav_desc wav_desc--2 eligible'>Eligible au pass culture?</h3> <h3 className='wav_desc wav_desc--2 profitez'>Profitez-en, ça fait marcher l'asso!</h3><a href=\"https://passculture.app/recherche?date=null&hitsPerPage=20&locationFilter=%7B%22locationType%22%3A%22EVERYWHERE%22%7D&offerCategories=%5B%5D&offerSubcategories=%5B%5D&offerIsDuo=false&offerIsFree=false&offerIsNew=false&offerTypes=%7B%22isDigital%22%3Afalse%2C%22isEvent%22%3Afalse%2C%22isThing%22%3Afalse%7D&priceRange=%5B0%2C300%5D&query=%22bicraveurs2bass%22&tags=%5B%5D&timeRange=null&view=%22Results%22&searchId=%225f203173-3fce-4a81-9905-e4d93f0b351f%22\" alt=\"bouton pour accéder à notre page sur Pass culture\" className=\"logo_pass\"></a></span>\r\n      </span>\r\n      </Zoom>\r\n      <Slide left>\r\n      <div className=\"container_tri\">\r\n          <span>Trier par genre:</span>\r\n          <select onChange={(event) => setGenreTri(event.target.value)} className='option_tri'>\r\n            <option value=''>Tous</option>\r\n            <option  value='Gabber'>Gabber</option>\r\n            <option  value='Hardcore'>Hardcore</option>\r\n            <option  value='Tribe'>Tribe</option>\r\n          </select>\r\n      </div>\r\n      </Slide>\r\n     \r\n    <div className=\"articlesContainer\">\r\n      <div className=\"itemContainer\" >\r\n      \r\n        \r\n        {listeSonsTries.map((son, index) => (\r\n          <Zoom bottom index={index}>\r\n          <div className=\"item\">\r\n            <img class=\"itemImg\" src={son.img} alt={\"pochette de la musique \" +son.titre} />\r\n\r\n            <h4 className=\"titre_son\">{son.titre}</h4>\r\n            {son.genre && <h5 className=\"genre\">{son.genre.join(' / ')}</h5>}\r\n\r\n            <span className=\"containerPrix\">\r\n\r\n            <img onClick={() => playSound(son.url)} className=\"icoItem  icoItem--play\" alt=\"bouton pour écouter le son\" src={logoplay}></img>\r\n            <span className='item_panier_prix'>\r\n             <span className='son--prix'>{son.prix}€ </span>\r\n\r\n\r\n            <img className='icoItem boutonItem--panier' alt=\"bouton pour ajouter le son au panier\" onClick={() => ajouterPanier(son.titre, son.prix, son.type, son.nbr)}  src={logopanier}></img>\r\n            </span>\r\n            </span>\r\n          </div>\r\n          \r\n          </Zoom>  ))}\r\n    </div>\r\n      \r\n \r\n        \r\n      </div>\r\n    \r\n     \r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Afficher_sons;"],"mappings":"2aAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,SAAS,KAAM,kBAAkB,CACxC,MAAO,qBAAqB,CAC5B,MAAO,CAAAC,UAAU,KAAM,qBAAqB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,mBAAmB,CACxC,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,OAASC,KAAK,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAIrC,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAgE,IAA9D,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,YAAY,CAAAF,IAAA,CAAZE,YAAY,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CAAEC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CAAEC,YAAY,CAAAL,IAAA,CAAZK,YAAY,CAEjF,IAAAC,SAAA,CAAgCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,IAAI,CAAEC,KAAK,CAAK,CACrC,MAAO,CAAAD,IAAI,CAACE,MAAM,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,CAACF,KAAK,CAACG,QAAQ,CAACH,KAAK,CAAC,GAAC,CACxD,CAAC,CAED,GAAM,CAAAI,cAAc,CAAGR,QAAQ,CAAGE,aAAa,CAACrB,SAAS,CAAEmB,QAAQ,CAAC,CAAGnB,SAAS,CAGlF,QAAS,CAAA4B,aAAaA,CAACC,KAAK,CAAEC,IAAI,CAAEC,IAAI,CAAEC,GAAG,CAAE,CAC3C,GAAI,CAAAC,aAAa,CAAE,EAAE,CACrB,GAAM,CAAAC,UAAU,CAAGvB,MAAM,CAACwB,IAAI,CAAC,SAACC,OAAO,QAAK,CAAAA,OAAO,CAACP,KAAK,GAAKA,KAAK,GAAC,CACpE,GAAIK,UAAU,CAAG,CACf,GAAIH,IAAI,EAAI,SAAS,EAAIC,GAAG,CAAG,CAAC,CAAE,CAChCK,KAAK,CAAC,oDAAoD,CAAC,CAC7D,CAAC,IACI,CACHJ,aAAa,CAAGtB,MAAM,CAAC2B,GAAG,CAAC,SAACF,OAAO,CAAK,CACtC,GAAIA,OAAO,CAACP,KAAK,GAAKA,KAAK,CAAE,CAC3B,OAAAU,aAAA,CAAAA,aAAA,IACKH,OAAO,MACVJ,GAAG,CAAE,CAAC,CACNF,IAAI,CAAEM,OAAO,CAACN,IAAI,GAEtB,CACA,MAAO,CAAAM,OAAO,CAChB,CAAC,CAAC,CACFxB,YAAY,CAACqB,aAAa,CAAC,CAC7B,CACF,CAAC,IAAM,CACL,GAAM,CAAAA,cAAa,IAAAO,MAAA,CAAAC,kBAAA,CAAO9B,MAAM,GAAE,CAAEkB,KAAK,CAALA,KAAK,CAAEC,IAAI,CAAJA,IAAI,CAAGC,IAAI,CAAJA,IAAI,CAAEC,GAAG,CAAC,CAAC,CAAC,EAAC,CAC/DpB,YAAY,CAACqB,cAAa,CAAC,CAC7B,CACF,CAEA,QAAS,CAAAS,SAASA,CAACC,GAAG,CAAE,CACtBC,MAAM,CAACC,IAAI,CAACF,GAAG,CAAC,CAClB,CAKA,mBAEEnC,KAAA,QAAKsC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAE7BzC,IAAA,CAACH,IAAI,EAAC6C,IAAI,MAAAD,QAAA,cAACzC,IAAA,OAAIwC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAACzC,IAAA,CAACF,KAAK,EAAC6C,GAAG,MAACC,OAAO,MAAAH,QAAA,CAAC,gCAA8B,CAAO,CAAC,CAAI,CAAC,CAAM,CAAC,cAChHzC,IAAA,CAACH,IAAI,EAACgD,KAAK,MAACD,OAAO,MAAAH,QAAA,cACnBzC,IAAA,SAAMwC,SAAS,CAAC,cAAc,CAAAC,QAAA,cAE9BvC,KAAA,SAAMsC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAACzC,IAAA,OAAIwC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,IAAC,cAAAzC,IAAA,OAAIwC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,yCAAoC,CAAI,CAAC,cAAAzC,IAAA,MAAG8C,IAAI,CAAC,4cAA4c,CAACC,GAAG,CAAC,yDAAmD,CAACP,SAAS,CAAC,WAAW,CAAI,CAAC,EAAM,CAAC,CAC1uB,CAAC,CACD,CAAC,cACPxC,IAAA,CAACF,KAAK,EAAC4C,IAAI,MAAAD,QAAA,cACXvC,KAAA,QAAKsC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BzC,IAAA,SAAAyC,QAAA,CAAM,kBAAgB,CAAM,CAAC,cAC7BvC,KAAA,WAAQ8C,QAAQ,CAAE,SAAAA,SAACC,KAAK,QAAK,CAAAnC,WAAW,CAACmC,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAACX,SAAS,CAAC,YAAY,CAAAC,QAAA,eAClFzC,IAAA,WAAQmD,KAAK,CAAC,EAAE,CAAAV,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC9BzC,IAAA,WAASmD,KAAK,CAAC,QAAQ,CAAAV,QAAA,CAAC,QAAM,CAAQ,CAAC,cACvCzC,IAAA,WAASmD,KAAK,CAAC,UAAU,CAAAV,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC3CzC,IAAA,WAASmD,KAAK,CAAC,OAAO,CAAAV,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC/B,CAAC,EACR,CAAC,CACC,CAAC,cAEVzC,IAAA,QAAKwC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCzC,IAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAG3BpB,cAAc,CAACW,GAAG,CAAC,SAACb,GAAG,CAAEiC,KAAK,qBAC7BpD,IAAA,CAACH,IAAI,EAACwD,MAAM,MAACD,KAAK,CAAEA,KAAM,CAAAX,QAAA,cAC1BvC,KAAA,QAAKsC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzC,IAAA,QAAKsD,KAAK,CAAC,SAAS,CAACC,GAAG,CAAEpC,GAAG,CAACqC,GAAI,CAACT,GAAG,CAAE,yBAAyB,CAAE5B,GAAG,CAACI,KAAM,CAAE,CAAC,cAEhFvB,IAAA,OAAIwC,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEtB,GAAG,CAACI,KAAK,CAAK,CAAC,CACzCJ,GAAG,CAACF,KAAK,eAAIjB,IAAA,OAAIwC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEtB,GAAG,CAACF,KAAK,CAACwC,IAAI,CAAC,KAAK,CAAC,CAAK,CAAC,cAEhEvD,KAAA,SAAMsC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAE/BzC,IAAA,QAAK0D,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAtB,SAAS,CAACjB,GAAG,CAACkB,GAAG,CAAC,EAAC,CAACG,SAAS,CAAC,wBAAwB,CAACO,GAAG,CAAC,+BAA4B,CAACQ,GAAG,CAAE3D,QAAS,CAAM,CAAC,cACjIM,KAAA,SAAMsC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACjCvC,KAAA,SAAMsC,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAEtB,GAAG,CAACK,IAAI,CAAC,SAAE,EAAM,CAAC,cAGhDxB,IAAA,QAAKwC,SAAS,CAAC,4BAA4B,CAACO,GAAG,CAAC,sCAAsC,CAACW,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAApC,aAAa,CAACH,GAAG,CAACI,KAAK,CAAEJ,GAAG,CAACK,IAAI,CAAEL,GAAG,CAACM,IAAI,CAAEN,GAAG,CAACO,GAAG,CAAC,EAAC,CAAE6B,GAAG,CAAE5D,UAAW,CAAM,CAAC,EAC/K,CAAC,EACD,CAAC,EACJ,CAAC,CAEA,CAAC,EAAG,CAAC,CACZ,CAAC,CAIC,CAAC,EAGH,CAAC,CAGV,CAEA,cAAe,CAAAQ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}